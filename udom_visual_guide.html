<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uDOM Architecture - Visual & Structural Knowledge for Agents</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background: #fafaf8;
            color: #2b2b2b;
            line-height: 1.7;
            display: flex;
            min-height: 100vh;
        }

        h1, h2, h3, h4 {
            font-family: Optima, 'Palatino Linotype', Palatino, serif;
            font-weight: 500;
        }

        h1 {
            font-size: 2.2em;
            color: #1a1a1a;
            margin-bottom: 8px;
        }

        h2 {
            font-size: 1.6em;
            color: #3a3a3a;
            margin: 40px 0 20px 0;
            padding-bottom: 12px;
            border-bottom: 2px solid #c8b69e;
        }

        h3 {
            font-size: 1.3em;
            color: #4a4a4a;
            margin: 24px 0 12px 0;
        }

        h4 {
            font-size: 1.1em;
            color: #5a5a5a;
            margin: 16px 0 8px 0;
        }

        /* Sidebar Navigation */
        .sidebar {
            width: 280px;
            background: #f5f3f0;
            border-right: 1px solid #e0d5c7;
            position: fixed;
            left: 0;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            padding: 32px 0;
        }

        .sidebar-header {
            padding: 0 24px 24px 24px;
            border-bottom: 1px solid #e0d5c7;
        }

        .sidebar-title {
            font-size: 1.4em;
            font-weight: 500;
            color: #2b2b2b;
            margin-bottom: 4px;
        }

        .sidebar-subtitle {
            font-size: 0.85em;
            color: #6a6a6a;
            line-height: 1.4;
        }

        .nav-section {
            margin: 24px 0;
        }

        .nav-section-title {
            font-size: 0.75em;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #8a7a6a;
            padding: 0 24px;
            margin-bottom: 8px;
        }

        .nav-item {
            display: block;
            padding: 10px 24px;
            color: #4a4a4a;
            text-decoration: none;
            font-size: 0.95em;
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }

        .nav-item:hover {
            background: #ebe7e0;
            color: #2b2b2b;
        }

        .nav-item.active {
            background: #e8dfd2;
            color: #1a1a1a;
            border-left-color: #c8b69e;
            font-weight: 500;
        }

        .nav-subitem {
            padding-left: 40px;
            font-size: 0.88em;
        }

        /* Main Content */
        .main-content {
            margin-left: 280px;
            flex: 1;
            padding: 48px 64px;
            max-width: 1400px;
        }

        .subtitle {
            color: #6a6a6a;
            font-size: 1.05em;
            margin-bottom: 36px;
            line-height: 1.6;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        /* Tree Structure */
        .tree {
            font-family: 'Monaco', 'Courier New', monospace;
            background: #f8f6f3;
            padding: 24px;
            border-radius: 8px;
            border: 1px solid #e8e0d5;
            overflow-x: auto;
            font-size: 13px;
            line-height: 1.9;
            white-space: pre;
        }

        .tree-root { color: #8b6f47; font-weight: 600; }
        .tree-key { color: #5a7d8c; font-weight: 500; }
        .tree-star { color: #c87941; font-weight: 600; }
        .tree-comment { color: #8a7a6a; font-style: italic; }
        .tree-type { color: #a85a5a; }

        /* Example Boxes */
        .example-box {
            background: #f8f6f3;
            border-left: 4px solid #c8b69e;
            padding: 24px;
            margin: 24px 0;
            border-radius: 6px;
        }

        .example-box pre {
            background: #fff;
            padding: 20px;
            border-radius: 6px;
            overflow-x: auto;
            font-size: 13px;
            line-height: 1.7;
            font-family: 'Monaco', 'Courier New', monospace;
            border: 1px solid #e8e0d5;
        }

        .example-box ul {
            margin: 12px 0 12px 24px;
            color: #4a4a4a;
        }

        .example-box li {
            margin: 6px 0;
        }

        code {
            background: #f0ebe5;
            padding: 2px 7px;
            border-radius: 4px;
            font-family: 'Monaco', 'Courier New', monospace;
            color: #a85a5a;
            font-size: 0.88em;
        }

        .highlight {
            background: #fef9e8;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: 500;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 24px 0;
            background: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }

        th, td {
            padding: 14px 16px;
            text-align: left;
            border-bottom: 1px solid #f0ebe5;
        }

        th {
            background: #8a7a6a;
            color: #fff;
            font-weight: 500;
            font-size: 0.9em;
            letter-spacing: 0.3px;
        }

        tr:hover {
            background: #fafaf8;
        }

        tr:last-child td {
            border-bottom: none;
        }

        td a {
            color: #5a7d8c;
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: border-color 0.2s;
        }

        td a:hover {
            border-bottom-color: #5a7d8c;
        }

        /* Tags */
        .tag {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: 500;
            margin: 2px;
        }

        .tag-visual { background: #e8eff2; color: #3a5f6f; }
        .tag-code { background: #f5ebe0; color: #8b6f47; }
        .tag-text { background: #f0e8f0; color: #6f4a6f; }

        .tag-complete { background: #e8f2e8; color: #4a6f4a; }
        .tag-high { background: #eff8e8; color: #5a7d4a; }
        .tag-medium { background: #fef9e8; color: #9a8a4a; }
        .tag-partial { background: #f8f0e8; color: #a87941; }
        .tag-limited { background: #f5e8e8; color: #a85a5a; }

        /* Filter Controls */
        .filter-controls {
            display: flex;
            gap: 12px;
            margin: 24px 0;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 9px 18px;
            border: 1.5px solid #d5c8b8;
            background: #fff;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            color: #4a4a4a;
            transition: all 0.2s;
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        }

        .filter-btn:hover {
            background: #fafaf8;
            border-color: #c8b69e;
        }

        .filter-btn.active {
            background: #c8b69e;
            color: #fff;
            border-color: #c8b69e;
        }

        /* Grid Layouts */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 24px 0;
        }

        .card {
            background: #fff;
            padding: 24px;
            border-radius: 8px;
            border: 1px solid #e8e0d5;
            box-shadow: 0 1px 3px rgba(0,0,0,0.06);
        }

        .card h4 {
            color: #3a3a3a;
            margin-bottom: 12px;
        }

        .card p {
            color: #5a5a5a;
            font-size: 0.93em;
            line-height: 1.6;
        }

        /* Flow Diagrams */
        .flow-container {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin: 24px 0;
        }

        .flow-step {
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .flow-box {
            padding: 14px 22px;
            border-radius: 6px;
            font-weight: 500;
            min-width: 180px;
            text-align: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            font-size: 0.9em;
        }

        .flow-arrow {
            font-size: 20px;
            color: #8a7a6a;
        }

        .flow-input { background: #e8eff2; border: 1.5px solid #5a7d8c; color: #3a5f6f; }
        .flow-adapter { background: #f5ebe0; border: 1.5px solid #c8b69e; color: #8b6f47; }
        .flow-udom { background: #e8f2e8; border: 2px solid #8a9e7a; color: #4a6f4a; font-weight: 600; }
        .flow-decision { background: #f0e8f0; border: 1.5px solid #9a7a9a; color: #6f4a6f; }
        .flow-storage { background: #f8f0e8; border: 1.5px solid #c89e7a; color: #a87941; }
        .flow-query { background: #fff; border: 1.5px solid #8a7a6a; color: #5a5a5a; }

        /* Utility Classes */
        .check-yes { color: #4a6f4a; font-weight: 600; }
        .check-no { color: #999; }
        .check-maybe { color: #9a8a4a; }

        /* Responsive */
        @media (max-width: 1024px) {
            .sidebar {
                width: 240px;
            }
            .main-content {
                margin-left: 240px;
                padding: 32px 40px;
            }
        }

        @media (max-width: 768px) {
            body {
                flex-direction: column;
            }
            .sidebar {
                position: static;
                width: 100%;
                height: auto;
                border-right: none;
                border-bottom: 1px solid #e0d5c7;
            }
            .main-content {
                margin-left: 0;
                padding: 24px;
            }
        }
    </style>
</head>
<body>
    <!-- Sidebar Navigation -->
    <nav class="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-title">uDOM Architecture</div>
            <div class="sidebar-subtitle">Universal structural knowledge for design agents</div>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">Overview</div>
            <a href="#" class="nav-item active" onclick="showSection(event, 'overview')">Introduction</a>
            <a href="#" class="nav-item" onclick="showSection(event, 'hierarchy')">Complete Hierarchy</a>
            <a href="#" class="nav-item" onclick="showSection(event, 'data-flow')">System Data Flow</a>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">Schema Details</div>
            <a href="#" class="nav-item" onclick="showSection(event, 'baseline-fields')">Baseline Fields</a>
            <a href="#" class="nav-subitem" onclick="showSection(event, 'baseline-fields')">observations{}</a>
            <a href="#" class="nav-subitem" onclick="showSection(event, 'baseline-fields')">composition_rules{}</a>
            <a href="#" class="nav-subitem" onclick="showSection(event, 'baseline-fields')">rendering_manifest{}</a>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">Examples</div>
            <a href="#" class="nav-item" onclick="showSection(event, 'figma-example')">Figma Component</a>
            <a href="#" class="nav-item" onclick="showSection(event, 'react-example')">React Component</a>
            <a href="#" class="nav-item" onclick="showSection(event, 'comparison')">Cross-Artifact Comparison</a>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">Registry</div>
            <a href="#" class="nav-item" onclick="showSection(event, 'artifact-types')">All Artifact Types</a>
            <a href="#" class="nav-item" onclick="showSection(event, 'extraction-quality')">Extraction Quality Guide</a>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">Architecture</div>
            <a href="#" class="nav-item" onclick="showSection(event, 'storage-strategy')">Storage Strategy</a>
            <a href="#" class="nav-item" onclick="showSection(event, 'training-use-cases')">Training Use Cases</a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Section: Overview -->
        <section id="overview" class="section active">
            <h1>uDOM: Universal Structural Awareness for Agents</h1>
            <p class="subtitle">A unified schema for capturing design artifacts, workspace tools, and procedural workflows. The uDOM system provides agents with structural and visual knowledge for design tasks through three layers: uDOM (snapshots), UAT (temporal graphs), and DB (collective database).</p>

            <h2>System Goals</h2>
            <div class="card-grid">
                <div class="card">
                    <h4>Streamable</h4>
                    <p>Agents consume incrementally via MCP protocols for efficient processing</p>
                </div>
                <div class="card">
                    <h4>Referential</h4>
                    <p>Stable, content-addressable IDs enable reliable cross-artifact linking</p>
                </div>
                <div class="card">
                    <h4>Schema-Light</h4>
                    <p>Extensible properties{} map allows artifact-specific fields without version migrations</p>
                </div>
                <div class="card">
                    <h4>Queryable</h4>
                    <p>Filter, traverse, and match subgraphs across multiple storage backends</p>
                </div>
                <div class="card">
                    <h4>Safe</h4>
                    <p>Can omit raw content, include only hashes/pointers for privacy</p>
                </div>
                <div class="card">
                    <h4>Relational & Composable</h4>
                    <p>Components link to others; groups of subcomponents treated as single units</p>
                </div>
            </div>

            <h2>Three-Layer Architecture</h2>
            <div class="example-box">
                <h4>uDOM → UAT → DB</h4>
                <p><strong>uDOM (Universal DOM):</strong> Structural snapshot of one artifact at one time (elements + relations + observations)</p>
                <p><strong>UAT (Unified Artifact Tree):</strong> Temporal graph of uDOM snapshots + alignments/diffs for one artifact over time</p>
                <p><strong>DB (Database):</strong> Collection of UATs + cross-artifact links + indices across multiple contributors</p>
            </div>

            <h2>Data Flow Phases</h2>
            <div class="flow-container">
                <div class="flow-step">
                    <div class="flow-box flow-input">Workspace Tools</div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-box flow-adapter">Extractors/Adapters</div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-box flow-udom">uDOM Snapshots</div>
                </div>
                <div class="flow-step" style="margin-left: 40px;">
                    <div class="flow-arrow" style="transform: rotate(90deg);">↓</div>
                </div>
                <div class="flow-step">
                    <div class="flow-box flow-decision">UAT Assembly</div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-box flow-storage">Hybrid Storage</div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-box flow-query">Query Layer</div>
                </div>
                <div class="flow-step" style="margin-left: 40px;">
                    <div class="flow-arrow" style="transform: rotate(90deg);">↓</div>
                </div>
                <div class="flow-step">
                    <div class="flow-box flow-udom">Collective DB</div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-box flow-adapter">Agents & Models</div>
                </div>
            </div>

            <h2>Key Principles</h2>
            <div class="card-grid">
                <div class="card">
                    <h4>artifact_type is Root Discriminator</h4>
                    <p>Single field determines property extensions, storage strategy, and query capabilities</p>
                </div>
                <div class="card">
                    <h4>Optional Fields</h4>
                    <p>Fields like spatial.absolute, visual, composition only included when relevant to artifact type</p>
                </div>
                <div class="card">
                    <h4>Multi-Level Spatial Awareness</h4>
                    <p>Absolute (canvas), relative (layout), semantic (hierarchy), visual (pixel) coordinates</p>
                </div>
                <div class="card">
                    <h4>Provenance Tracking</h4>
                    <p>observations{} captures extraction method, tool version, user intent, and context</p>
                </div>
            </div>
        </section>

        <!-- Section: Hierarchy -->
        <section id="hierarchy" class="section">
            <h1>Complete uDOM Hierarchy</h1>
            <p class="subtitle">Tree representation showing all fields, their relationships, and extensibility points</p>

            <div class="tree"><span class="tree-root">uDOM (Universal DOM - Root Schema)</span>
│
├─ <span class="tree-key">metadata</span>
│  ├─ snapshot_id <span class="tree-comment">(UUID)</span>
│  ├─ artifact_id <span class="tree-comment">(global identifier)</span>
│  ├─ <span class="tree-star">artifact_type ★</span> <span class="tree-comment">→ DETERMINES SCHEMA VARIATION</span>
│  ├─ timestamp
│  ├─ content_hash
│  └─ schema_version
│
├─ <span class="tree-key">elements[]</span> <span class="tree-comment">(Element nodes - EXTENSIBLE LIST)</span>
│  │
│  └─ Element (Base)
│     ├─ id <span class="tree-comment">(source-specific)</span>
│     ├─ stable_id <span class="tree-comment">(content-addressable)</span>
│     ├─ <span class="tree-star">type ★</span> <span class="tree-comment">→ VARIES BY ARTIFACT_TYPE</span>
│     ├─ semantic_type <span class="tree-comment">(universal: "button", "input", etc.)</span>
│     │
│     ├─ <span class="tree-key">properties{}</span> <span class="tree-comment">(EXTENSIBLE MAP - can add any property)</span>
│     │  │
│     │  ├─ COMMON <span class="tree-comment">(all artifact types can have these)</span>
│     │  │  ├─ name
│     │  │  ├─ width
│     │  │  ├─ height
│     │  │  └─ <span class="tree-comment">... (any geometric properties)</span>
│     │  │
│     │  └─ TYPE-SPECIFIC <span class="tree-comment">(depends on artifact_type - EXTENSIBLE)</span>
│     │     │
│     │     ├─ <span class="tree-type">IF artifact_type = "figma_component"</span>
│     │     │  ├─ layoutMode
│     │     │  ├─ paddingLeft/Right/Top/Bottom
│     │     │  ├─ itemSpacing
│     │     │  ├─ fills[]
│     │     │  ├─ cornerRadius
│     │     │  └─ <span class="tree-comment">... (any Figma-specific property)</span>
│     │     │
│     │     ├─ <span class="tree-type">IF artifact_type = "react_component"</span>
│     │     │  ├─ props
│     │     │  ├─ hooks[]
│     │     │  ├─ className
│     │     │  └─ <span class="tree-comment">... (any React-specific property)</span>
│     │     │
│     │     ├─ <span class="tree-type">IF artifact_type = "html_element"</span>
│     │     │  ├─ tagName
│     │     │  ├─ attributes{}
│     │     │  ├─ computedStyle{}
│     │     │  └─ <span class="tree-comment">... (any HTML-specific property)</span>
│     │     │
│     │     └─ <span class="tree-comment">... (easily add new artifact types)</span>
│     │
│     ├─ <span class="tree-key">spatial{}</span> <span class="tree-comment">(multi-level positioning - OPTIONAL fields)</span>
│     │  ├─ absolute? <span class="tree-comment">(optional - for canvas/screen coordinates)</span>
│     │  ├─ relative? <span class="tree-comment">(optional - for layout systems)</span>
│     │  ├─ semantic? <span class="tree-comment">(optional - for hierarchy/order)</span>
│     │  └─ visual? <span class="tree-comment">(optional - for screenshots/images)</span>
│     │
│     ├─ visual{} <span class="tree-comment">(optional - rendering properties)</span>
│     ├─ text{} <span class="tree-comment">(optional - if text element)</span>
│     ├─ vector{} <span class="tree-comment">(optional - if vector element)</span>
│     ├─ composition{} <span class="tree-comment">(optional - if compound element)</span>
│     └─ states{} <span class="tree-comment">(optional - interaction states)</span>
│
├─ <span class="tree-key">relations[]</span> <span class="tree-comment">(Relation edges - EXTENSIBLE LIST)</span>
│  │
│  └─ Relation (Base)
│     ├─ <span class="tree-star">type ★</span> <span class="tree-comment">→ VARIES BY CONTEXT (extensible)</span>
│     │  ├─ "parent_child"
│     │  ├─ "sibling"
│     │  ├─ "uses_token"
│     │  ├─ "instance_of"
│     │  └─ <span class="tree-comment">... (add custom relation types)</span>
│     │
│     ├─ from <span class="tree-comment">(element ID)</span>
│     ├─ to <span class="tree-comment">(element ID)</span>
│     └─ <span class="tree-key">properties{}</span> <span class="tree-comment">(EXTENSIBLE edge metadata)</span>
│
├─ <span class="tree-key">observations{}</span> <span class="tree-comment">(provenance & context)</span>
├─ <span class="tree-key">composition_rules{}</span> <span class="tree-comment">(optional - global layout rules)</span>
└─ <span class="tree-key">rendering_manifest{}</span> <span class="tree-comment">(optional - for reconstruction)</span></div>
        </section>

        <!-- Section: Baseline Fields -->
        <section id="baseline-fields" class="section">
            <h1>Baseline Field Definitions</h1>
            <p class="subtitle">Standard field structures for observations, composition rules, and rendering manifests</p>

            <div class="example-box">
                <h3>observations{} - Provenance & Context Tracking</h3>
                <pre>{
  "observations": {
    "provenance": {
      "user_id": "string",            <span style="color: #8a7a6a;">// Unique identifier for the user</span>
      "user_name": "string",          <span style="color: #8a7a6a;">// Display name</span>
      "session_id": "string",         <span style="color: #8a7a6a;">// Session/workspace identifier</span>
      "tool": "string",               <span style="color: #8a7a6a;">// Tool name: "figma", "sketch", "react", etc.</span>
      "tool_version": "string",       <span style="color: #8a7a6a;">// Version: "116.5.2"</span>
      <span class="highlight">"extraction_method": "string",</span>  <span style="color: #a87941;">// HOW data was captured</span>
                                      <span style="color: #8a7a6a;">// "figma_plugin_api" | "figma_rest_api"</span>
                                      <span style="color: #8a7a6a;">// "babel_ast_parser" | "dom_traversal"</span>
                                      <span style="color: #8a7a6a;">// "vision_model_detection", etc.</span>
      <span class="highlight">"extracted_at": number,</span>         <span style="color: #a87941;">// Unix timestamp of extraction</span>
      <span class="highlight">"extractor_version": "string",</span>  <span style="color: #a87941;">// Version of extraction adapter</span>
      <span class="highlight">"extraction_quality": "string"</span>  <span style="color: #a87941;">// Qualitative: see quality guide →</span>
    },
    "intent": {
      "change_type": "string",        <span style="color: #8a7a6a;">// "creation" | "refinement" | "deletion"</span>
      "scope": "string",              <span style="color: #8a7a6a;">// "layout" | "visual_style" | "content"</span>
      "motivation": "string"          <span style="color: #8a7a6a;">// "initial_design" | "accessibility_fix"</span>
    },
    "context": {
      "file_name": "string",          <span style="color: #8a7a6a;">// Source file name</span>
      "file_path": "string",          <span style="color: #8a7a6a;">// Full path or URL</span>
      "page_name": "string",          <span style="color: #8a7a6a;">// Page/frame/artboard name</span>
      "nearby_elements": ["string"],  <span style="color: #8a7a6a;">// IDs of contextually related elements</span>
      "tags": ["string"],             <span style="color: #8a7a6a;">// User-applied tags</span>
      "workspace_id": "string"        <span style="color: #8a7a6a;">// Team/org workspace identifier</span>
    }
  }
}</pre>
            </div>

            <div class="example-box">
                <h3>composition_rules{} - Layout & Hierarchy Rules</h3>
                <pre>{
  "composition_rules": {
    "hierarchy": {
      "max_nesting_depth": number,     <span style="color: #8a7a6a;">// Maximum allowed nesting levels</span>
      "nesting_strategy": "string",    <span style="color: #8a7a6a;">// "strict_tree" | "graph" | "flat_list"</span>
      "indent_increment": number,      <span style="color: #8a7a6a;">// Pixels or units per level</span>
      "parent_child_rules": {
        "containment": "string",       <span style="color: #8a7a6a;">// "strict" | "loose" | "visual_only"</span>
        "z_ordering": "string"         <span style="color: #8a7a6a;">// "strict" | "allow_overlap"</span>
      }
    },
    "spacing": {
      "vertical_rhythm": {
        "base_unit": number,           <span style="color: #8a7a6a;">// Base spacing unit (e.g., 8px)</span>
        "scale": [number],             <span style="color: #8a7a6a;">// [0.5, 1, 1.5, 2, 3, 4, 6, 8]</span>
        "apply_to": ["string"]         <span style="color: #8a7a6a;">// ["margin", "padding", "gap"]</span>
      },
      "horizontal_rhythm": {
        "base_unit": number,
        "grid_columns": number,        <span style="color: #8a7a6a;">// For grid systems (e.g., 12)</span>
        "gutter": number
      },
      "component_spacing": {
        "inter_component": number,     <span style="color: #8a7a6a;">// Space between sibling components</span>
        "intra_component": number      <span style="color: #8a7a6a;">// Space within component children</span>
      }
    },
    "visual_hierarchy": {
      "emphasis_levels": number,       <span style="color: #8a7a6a;">// Distinct hierarchy levels (e.g., 5)</span>
      "primary_axis": "string",        <span style="color: #8a7a6a;">// "size" | "color" | "position" | "weight"</span>
      "rules": [
        {
          "level": number,             <span style="color: #8a7a6a;">// 1 (highest) to N (lowest)</span>
          "size_range": {"min": number, "max": number},
          "weight_range": {"min": number, "max": number},
          "color_prominence": number   <span style="color: #8a7a6a;">// 0-1</span>
        }
      ]
    },
    "constraints": {
      "min_touch_target": number,      <span style="color: #8a7a6a;">// Minimum interaction size (e.g., 44px)</span>
      "max_line_length": number,       <span style="color: #8a7a6a;">// Characters or pixels</span>
      "aspect_ratio_lock": boolean,    <span style="color: #8a7a6a;">// Maintain aspect ratios</span>
      "snap_to_grid": boolean,         <span style="color: #8a7a6a;">// Enforce grid alignment</span>
      "responsive_breakpoints": [number] <span style="color: #8a7a6a;">// [320, 768, 1024, 1440]</span>
    }
  }
}</pre>
            </div>

            <div class="example-box">
                <h3>rendering_manifest{} - Reconstruction Blueprint</h3>
                <pre>{
  "rendering_manifest": {
    "viewport": {
      "width": number,                 <span style="color: #8a7a6a;">// Canvas/viewport width</span>
      "height": number,                <span style="color: #8a7a6a;">// Canvas/viewport height</span>
      "dpr": number,                   <span style="color: #8a7a6a;">// Device pixel ratio (1, 2, 3)</span>
      "scale": number,                 <span style="color: #8a7a6a;">// Zoom level (default: 1)</span>
      "coordinate_system": "string"    <span style="color: #8a7a6a;">// "screen" | "canvas" | "document"</span>
    },
    "render_layers": [
      {
        "id": "string",
        "type": "string",              <span style="color: #8a7a6a;">// "background" | "content" | "overlay"</span>
        "z_index": number,
        "blend_mode": "string",        <span style="color: #8a7a6a;">// "normal" | "multiply" | "screen"</span>
        "opacity": number,             <span style="color: #8a7a6a;">// 0-1</span>
        "elements": ["string"]         <span style="color: #8a7a6a;">// Element IDs in this layer</span>
      }
    ],
    "tokens": {
      "colors": {
        "primary": "string",           <span style="color: #8a7a6a;">// "#3399ff"</span>
        "secondary": "string",
        "text": "string",
        "background": "string"
      },
      "typography": {
        "font_families": {
          "primary": "string",         <span style="color: #8a7a6a;">// "Inter"</span>
          "monospace": "string"        <span style="color: #8a7a6a;">// "Fira Code"</span>
        },
        "font_sizes": {
          "xs": number, "sm": number, "base": number,
          "lg": number, "xl": number, "2xl": number
        },
        "line_heights": {
          "tight": number, "normal": number, "relaxed": number
        },
        "font_weights": {
          "normal": number, "medium": number, "bold": number
        }
      },
      "spacing": {
        "unit": number,                <span style="color: #8a7a6a;">// Base unit (8px)</span>
        "scale": [number]              <span style="color: #8a7a6a;">// Multipliers</span>
      },
      "radii": {
        "sm": number, "md": number, "lg": number, "full": number
      },
      "shadows": {
        "sm": "string",                <span style="color: #8a7a6a;">// "0 1px 2px rgba(0,0,0,0.05)"</span>
        "md": "string",
        "lg": "string"
      }
    },
    "typography": {
      "base_font_size": number,        <span style="color: #8a7a6a;">// 16px</span>
      "type_scale": number,            <span style="color: #8a7a6a;">// 1.25 (major third)</span>
      "loaded_fonts": [
        {
          "family": "string",
          "weights": [number],         <span style="color: #8a7a6a;">// [400, 500, 700]</span>
          "source": "string"           <span style="color: #8a7a6a;">// "google_fonts" | "local" | "url"</span>
        }
      ]
    },
    "assets": {
      "images": [
        {
          "id": "string",
          "url": "string",
          "hash": "string",            <span style="color: #8a7a6a;">// Content hash for caching</span>
          "dimensions": {"width": number, "height": number},
          "format": "string"           <span style="color: #8a7a6a;">// "png" | "svg" | "webp"</span>
        }
      ],
      "vectors": [
        {
          "id": "string",
          "svg_data": "string",        <span style="color: #8a7a6a;">// Or path_data for efficiency</span>
          "viewBox": "string"
        }
      ]
    },
    "quality": {
      "fidelity_target": "string",     <span style="color: #8a7a6a;">// "wireframe" | "high-fidelity" | "pixel-perfect"</span>
      "include_interactions": boolean, <span style="color: #8a7a6a;">// Render interactive states</span>
      "include_animations": boolean,   <span style="color: #8a7a6a;">// Render animations/transitions</span>
      "text_rendering": "string"       <span style="color: #8a7a6a;">// "plain" | "with_typography" | "as_image"</span>
    }
  }
}</pre>
            </div>

            <div class="example-box">
                <h3>Systematic Extractor Metadata Tracking</h3>
                <p><strong>Recommended Approach:</strong> Track extraction metadata in <code>observations.provenance</code></p>
                <p><strong>Rationale:</strong></p>
                <ul>
                    <li><code>extraction_method</code> - identifies which adapter/parser was used</li>
                    <li><code>extractor_version</code> - tracks adapter code version for reproducibility</li>
                    <li><code>extracted_at</code> - temporal marker for extraction time</li>
                    <li><code>extraction_quality</code> - qualitative assessment (see quality guide)</li>
                </ul>
                <p>This keeps all provenance data centralized and queryable. For imported data, the <code>tool</code> and <code>extraction_method</code> fields clearly indicate the source and capture method.</p>
            </div>
        </section>

        <!-- Section: Figma Example -->
        <section id="figma-example" class="section">
            <h1>Figma Component Example</h1>
            <p class="subtitle">Complete uDOM structure for a Figma button component showing all extensible fields</p>

            <div class="example-box">
                <pre>{
  "metadata": {
    "snapshot_id": "550e8400-e29b-41d4-a716-446655440000",
    "artifact_id": "figma://file/abc123/node/456",
    "artifact_type": <span class="highlight">"figma_component"</span>, <span style="color: #a87941;">← Determines schema extensions</span>
    "timestamp": 1704067200000,
    "content_hash": "sha256:a1b2c3..."
  },

  "elements": [
    {
      "id": "123:456",
      "stable_id": "content-sha256:d4e5f6...",
      "type": <span class="highlight">"Component"</span>, <span style="color: #a87941;">← Figma-specific type</span>
      "semantic_type": "button", <span style="color: #8a7a6a;">← Universal semantic</span>

      "properties": { <span style="color: #a87941;">← EXTENSIBLE: Figma-specific properties</span>
        "name": "Button/Primary",
        "layoutMode": "HORIZONTAL",
        "paddingLeft": 20,
        "paddingRight": 20,
        "paddingTop": 12,
        "paddingBottom": 12,
        "itemSpacing": 8,
        "fills": [{"type": "SOLID", "color": {"r": 0.2, "g": 0.6, "b": 1}}],
        "cornerRadius": 8
      },

      "spatial": { <span style="color: #c87941;">← Multi-level positioning</span>
        "absolute": {
          "coordinate_system": "canvas",
          "bounds": {"x": 120, "y": 340, "width": 120, "height": 44}
        },
        "relative": {
          "layout_mode": "flex",
          "flex": {"direction": "row", "align": "center", "justify": "center"}
        }
      },

      "visual": {
        "background": {"type": "solid", "color": "#3399ff"},
        "border_radius": {"tl": 8, "tr": 8, "br": 8, "bl": 8},
        "shadow": [{"x": 0, "y": 2, "blur": 4, "color": "rgba(0,0,0,0.1)"}]
      }
    }
  ],

  "observations": {
    "provenance": {
      "user_id": "user_alice_123",
      "user_name": "Alice Designer",
      "session_id": "session_789",
      "tool": "figma",
      "tool_version": "116.5.2",
      "extraction_method": "figma_plugin_api",
      "extracted_at": 1704067200000,
      "extraction_quality": "complete"
    },
    "intent": {
      "change_type": "refinement",
      "scope": "visual_style",
      "motivation": "padding_adjustment"
    }
  }
}</pre>
            </div>
        </section>

        <!-- Section: React Example -->
        <section id="react-example" class="section">
            <h1>React Component Example</h1>
            <p class="subtitle">Code artifact uDOM showing AST-based extraction without visual properties</p>

            <div class="example-box">
                <pre>{
  "metadata": {
    "snapshot_id": "660e8400-e29b-41d4-a716-446655440111",
    "artifact_id": "repo://github.com/org/project/src/Button.tsx",
    "artifact_type": <span class="highlight">"react_component"</span>,
    "timestamp": 1704070800000,
    "content_hash": "sha256:e7f8g9..."
  },

  "elements": [
    {
      "id": "FunctionComponent:Button",
      "stable_id": "content-sha256:h1i2j3...",
      "type": <span class="highlight">"FunctionComponent"</span>, <span style="color: #a87941;">← React-specific type</span>
      "semantic_type": "button",

      "properties": { <span style="color: #a87941;">← React code properties</span>
        "name": "Button",
        "file_path": "src/components/Button.tsx",
        "line_start": 5,
        "line_end": 23,
        "props": {
          "variant": {"type": "string", "default": "primary"},
          "size": {"type": "string", "default": "medium"},
          "onClick": {"type": "function"}
        },
        "hooks": [
          {"name": "useState", "variable": "isPressed"},
          {"name": "useCallback", "variable": "handleClick"}
        ],
        "className": "btn btn-{variant}"
      },

      "spatial": { <span style="color: #8a7a6a;">← Only semantic (no visual coordinates)</span>
        "semantic": {
          "depth": 1,
          "path": "/src/components/Button.tsx",
          "document_order": 0
        }
      }
    }
  ],

  "relations": [
    {
      "type": "implements",
      "from": "FunctionComponent:Button",
      "to": "figma://file/abc123/node/456", <span style="color: #a87941;">← Cross-artifact link!</span>
      "properties": {
        "fidelity_score": 0.92,
        "mapped_at": 1704070800000
      }
    }
  ],

  "observations": {
    "provenance": {
      "user_id": "user_bob_456",
      "user_name": "Bob Developer",
      "session_id": "session_890",
      "tool": "vscode",
      "tool_version": "1.85.0",
      "extraction_method": "babel_ast_parser",
      "extracted_at": 1704070800000,
      "extraction_quality": "complete"
    },
    "intent": {
      "change_type": "creation",
      "scope": "implementation",
      "motivation": "design_to_code"
    }
  }
}</pre>
            </div>
        </section>

        <!-- Section: Comparison -->
        <section id="comparison" class="section">
            <h1>Cross-Artifact Comparison</h1>
            <p class="subtitle">How different artifact types extend the same base schema</p>

            <table>
                <thead>
                    <tr>
                        <th>Field</th>
                        <th>Figma (figma_component)</th>
                        <th>React (react_component)</th>
                        <th>HTML (html_element)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>type</code></td>
                        <td>Frame | Component | Instance | Vector | Text</td>
                        <td>FunctionComponent | ClassComponent | JSXElement</td>
                        <td>div | button | input | span | etc.</td>
                    </tr>
                    <tr>
                        <td><code>properties</code></td>
                        <td>layoutMode, paddingLeft/Right/Top/Bottom, fills[], cornerRadius, effects[]</td>
                        <td>props{}, hooks[], state[], className, file_path, line_start</td>
                        <td>tagName, attributes{}, computedStyle{}, classList[], dataset{}</td>
                    </tr>
                    <tr>
                        <td><code>spatial.absolute</code></td>
                        <td><span class="check-yes">✓ Present</span> (canvas coordinates)</td>
                        <td><span class="check-no">✗ Not present</span> (AST, no visual)</td>
                        <td><span class="check-yes">✓ Present</span> (viewport coordinates)</td>
                    </tr>
                    <tr>
                        <td><code>spatial.relative</code></td>
                        <td><span class="check-yes">✓ Present</span> (auto-layout, flex)</td>
                        <td><span class="check-no">✗ Not present</span></td>
                        <td><span class="check-yes">✓ Present</span> (CSS layout)</td>
                    </tr>
                    <tr>
                        <td><code>visual</code></td>
                        <td><span class="check-yes">✓ Present</span> (fills, strokes, effects)</td>
                        <td><span class="check-no">✗ Not present</span></td>
                        <td><span class="check-yes">✓ Present</span> (computedStyle)</td>
                    </tr>
                    <tr>
                        <td>Storage</td>
                        <td>Doc + Col + Graph + Vec</td>
                        <td>Doc + Graph</td>
                        <td>Doc + Col + Graph + Vec</td>
                    </tr>
                    <tr>
                        <td>Use Case</td>
                        <td>Design capture, visual training</td>
                        <td>Code structure, implementation patterns</td>
                        <td>Web rendering, accessibility analysis</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Section: Artifact Types -->
        <section id="artifact-types" class="section">
            <h1>Complete Artifact Type Registry</h1>
            <p class="subtitle">Comprehensive catalog grouped by platform with extraction methods and quality assessments</p>

            <div class="filter-controls">
                <button class="filter-btn active" onclick="filterArtifacts('all')">All Platforms</button>
                <button class="filter-btn" onclick="filterArtifacts('visual')">Visual Design</button>
                <button class="filter-btn" onclick="filterArtifacts('code')">Code</button>
                <button class="filter-btn" onclick="filterArtifacts('text')">Text/Document</button>
                <button class="filter-btn" onclick="filterArtifacts('workspace')">Workspace Tools</button>
            </div>

            <h2 style="margin-top: 40px; border-bottom: 2px solid #8b6f47;">Design Platforms</h2>

            <h3 style="color: #5a7d8c; margin-top: 24px;">Figma</h3>
            <table class="artifact-types-table" data-category="visual" data-workspace="true">
                <thead>
                    <tr>
                        <th>Extraction Method</th>
                        <th>Library/Tool</th>
                        <th>Quality</th>
                        <th>Type Examples</th>
                        <th>Unique Properties</th>
                        <th>Storage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>figma_plugin_api</td>
                        <td><a href="https://www.figma.com/plugin-docs/" target="_blank">Figma Plugin API</a></td>
                        <td><span class="tag tag-complete">Complete</span></td>
                        <td>Frame, Component, Instance, Vector, Text</td>
                        <td>layoutMode, paddingLeft/Right/Top/Bottom, itemSpacing, fills[], strokes[], effects[], constraints</td>
                        <td>Doc + Col + Graph + Vec</td>
                    </tr>
                    <tr>
                        <td>figma_rest_api</td>
                        <td><a href="https://www.figma.com/developers/api" target="_blank">Figma REST API</a></td>
                        <td><span class="tag tag-high">High-fidelity</span></td>
                        <td>Same as plugin</td>
                        <td>Same (slightly less provenance detail)</td>
                        <td>Doc + Col + Graph + Vec</td>
                    </tr>
                </tbody>
            </table>

            <h3 style="color: #5a7d8c; margin-top: 32px;">Sketch</h3>
            <table class="artifact-types-table" data-category="visual" data-workspace="true">
                <thead>
                    <tr>
                        <th>Extraction Method</th>
                        <th>Library/Tool</th>
                        <th>Quality</th>
                        <th>Type Examples</th>
                        <th>Unique Properties</th>
                        <th>Storage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>sketch_file_parser</td>
                        <td><a href="https://developer.sketch.com/file-format/" target="_blank">Sketch File Format</a></td>
                        <td><span class="tag tag-complete">Complete</span></td>
                        <td>Artboard, SymbolMaster, Layer, ShapeGroup, Text</td>
                        <td>symbolID, sharedStyleID, resizingConstraint, layerListExpanded</td>
                        <td>Doc + Col + Graph + Vec</td>
                    </tr>
                </tbody>
            </table>

            <h3 style="color: #5a7d8c; margin-top: 32px;">Adobe XD</h3>
            <table class="artifact-types-table" data-category="visual" data-workspace="true">
                <thead>
                    <tr>
                        <th>Extraction Method</th>
                        <th>Library/Tool</th>
                        <th>Quality</th>
                        <th>Type Examples</th>
                        <th>Unique Properties</th>
                        <th>Storage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>xd_plugin_api</td>
                        <td><a href="https://developer.adobe.com/xd/uxp/" target="_blank">Adobe XD Plugin API</a></td>
                        <td><span class="tag tag-high">High-fidelity</span></td>
                        <td>Artboard, Component, RepeatGrid, Group, Shape, Text</td>
                        <td>repeatGrid{}, componentStates[], responsiveResize{}, interactions[]</td>
                        <td>Doc + Col + Graph + Vec</td>
                    </tr>
                    <tr>
                        <td>xd_cloud_api</td>
                        <td><a href="https://developer.adobe.com/xd/cloud-content-api/" target="_blank">XD Cloud API</a></td>
                        <td><span class="tag tag-medium">Medium</span></td>
                        <td>Same as plugin (less detail)</td>
                        <td>Same as plugin (limited prototyping data)</td>
                        <td>Doc + Col + Graph</td>
                    </tr>
                </tbody>
            </table>

            <h3 style="color: #5a7d8c; margin-top: 32px;">Framer</h3>
            <table class="artifact-types-table" data-category="visual" data-workspace="true">
                <thead>
                    <tr>
                        <th>Extraction Method</th>
                        <th>Library/Tool</th>
                        <th>Quality</th>
                        <th>Type Examples</th>
                        <th>Unique Properties</th>
                        <th>Storage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>dom_inspection</td>
                        <td><a href="https://developer.chrome.com/docs/devtools/" target="_blank">Chrome DevTools</a></td>
                        <td><span class="tag tag-limited">Limited</span></td>
                        <td>DetectedComponent (inferred from DOM)</td>
                        <td>computedStyle{}, data-framer-* attributes, inferred layout</td>
                        <td>Doc + Graph</td>
                    </tr>
                </tbody>
            </table>

            <h3 style="color: #5a7d8c; margin-top: 32px;">Webflow</h3>
            <table class="artifact-types-table" data-category="visual" data-workspace="true">
                <thead>
                    <tr>
                        <th>Extraction Method</th>
                        <th>Library/Tool</th>
                        <th>Quality</th>
                        <th>Type Examples</th>
                        <th>Unique Properties</th>
                        <th>Storage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>webflow_api</td>
                        <td><a href="https://developers.webflow.com/" target="_blank">Webflow API</a></td>
                        <td><span class="tag tag-medium">Medium</span></td>
                        <td>Element, Collection, CMS Item</td>
                        <td>webflow_id, classes[], custom_attributes{}, cms_fields{}</td>
                        <td>Doc + Col + Graph</td>
                    </tr>
                </tbody>
            </table>

            <h2 style="margin-top: 48px; border-bottom: 2px solid #8b6f47;">Code Frameworks</h2>

            <h3 style="color: #c87941; margin-top: 24px;">React</h3>
            <table class="artifact-types-table" data-category="code" data-workspace="false">
                <thead>
                    <tr>
                        <th>Extraction Method</th>
                        <th>Library/Tool</th>
                        <th>Quality</th>
                        <th>Type Examples</th>
                        <th>Unique Properties</th>
                        <th>Storage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>babel_ast_parser</td>
                        <td><a href="https://babeljs.io/docs/en/babel-parser" target="_blank">@babel/parser</a></td>
                        <td><span class="tag tag-complete">Complete</span></td>
                        <td>FunctionComponent, ClassComponent, JSXElement, JSXFragment</td>
                        <td>props{}, hooks[], state[], className, style, file_path, line_start</td>
                        <td>Doc + Graph</td>
                    </tr>
                    <tr>
                        <td>typescript_compiler_api</td>
                        <td><a href="https://github.com/microsoft/TypeScript/wiki/Using-the-Compiler-API" target="_blank">TypeScript Compiler API</a></td>
                        <td><span class="tag tag-high">High-fidelity</span></td>
                        <td>Same as Babel + type information</td>
                        <td>+ type_annotations, interfaces, generics</td>
                        <td>Doc + Graph</td>
                    </tr>
                </tbody>
            </table>

            <h3 style="color: #c87941; margin-top: 32px;">Vue</h3>
            <table class="artifact-types-table" data-category="code" data-workspace="false">
                <thead>
                    <tr>
                        <th>Extraction Method</th>
                        <th>Library/Tool</th>
                        <th>Quality</th>
                        <th>Type Examples</th>
                        <th>Unique Properties</th>
                        <th>Storage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>vue_compiler_sfc</td>
                        <td><a href="https://github.com/vuejs/core/tree/main/packages/compiler-sfc" target="_blank">@vue/compiler-sfc</a></td>
                        <td><span class="tag tag-complete">Complete</span></td>
                        <td>ComponentDefinition, Template, Script, Style</td>
                        <td>template_ast, script_setup, props, emits[], style_scoped</td>
                        <td>Doc + Graph</td>
                    </tr>
                </tbody>
            </table>

            <h3 style="color: #c87941; margin-top: 32px;">Svelte</h3>
            <table class="artifact-types-table" data-category="code" data-workspace="false">
                <thead>
                    <tr>
                        <th>Extraction Method</th>
                        <th>Library/Tool</th>
                        <th>Quality</th>
                        <th>Type Examples</th>
                        <th>Unique Properties</th>
                        <th>Storage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>svelte_compiler</td>
                        <td><a href="https://svelte.dev/docs/svelte-compiler" target="_blank">svelte/compiler</a></td>
                        <td><span class="tag tag-complete">Complete</span></td>
                        <td>Component, Script, Markup, Style</td>
                        <td>reactive_declarations, stores[], bindings[], transitions[]</td>
                        <td>Doc + Graph</td>
                    </tr>
                </tbody>
            </table>

            <h3 style="color: #c87941; margin-top: 32px;">SwiftUI</h3>
            <table class="artifact-types-table" data-category="code" data-workspace="false">
                <thead>
                    <tr>
                        <th>Extraction Method</th>
                        <th>Library/Tool</th>
                        <th>Quality</th>
                        <th>Type Examples</th>
                        <th>Unique Properties</th>
                        <th>Storage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>swift_syntax_parser</td>
                        <td><a href="https://github.com/apple/swift-syntax" target="_blank">SwiftSyntax</a></td>
                        <td><span class="tag tag-high">High-fidelity</span></td>
                        <td>View, ViewModifier, StateProperty</td>
                        <td>body_declaration, modifiers[], state_properties[], bindings[]</td>
                        <td>Doc + Graph</td>
                    </tr>
                </tbody>
            </table>

            <h3 style="color: #c87941; margin-top: 32px;">Flutter</h3>
            <table class="artifact-types-table" data-category="code" data-workspace="false">
                <thead>
                    <tr>
                        <th>Extraction Method</th>
                        <th>Library/Tool</th>
                        <th>Quality</th>
                        <th>Type Examples</th>
                        <th>Unique Properties</th>
                        <th>Storage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>dart_analyzer</td>
                        <td><a href="https://pub.dev/packages/analyzer" target="_blank">Dart Analyzer</a></td>
                        <td><span class="tag tag-complete">Complete</span></td>
                        <td>StatelessWidget, StatefulWidget, Element</td>
                        <td>build_method, state_properties[], widget_tree[]</td>
                        <td>Doc + Graph</td>
                    </tr>
                </tbody>
            </table>

            <h2 style="margin-top: 48px; border-bottom: 2px solid #8b6f47;">Web & HTML</h2>

            <h3 style="color: #5a7d8c; margin-top: 24px;">HTML/DOM</h3>
            <table class="artifact-types-table" data-category="visual" data-workspace="false">
                <thead>
                    <tr>
                        <th>Extraction Method</th>
                        <th>Library/Tool</th>
                        <th>Quality</th>
                        <th>Type Examples</th>
                        <th>Unique Properties</th>
                        <th>Storage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>dom_traversal</td>
                        <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model" target="_blank">Browser DOM API</a></td>
                        <td><span class="tag tag-high">High-fidelity</span></td>
                        <td>div, button, input, span, etc.</td>
                        <td>tagName, attributes{}, computedStyle{}, classList[], dataset{}</td>
                        <td>Doc + Col + Graph + Vec</td>
                    </tr>
                    <tr>
                        <td>puppeteer_crawl</td>
                        <td><a href="https://pptr.dev/" target="_blank">Puppeteer</a></td>
                        <td><span class="tag tag-medium">Medium</span></td>
                        <td>Same as DOM + screenshot capability</td>
                        <td>+ visual.screenshot_ref, visual.viewport_bounds</td>
                        <td>Doc + Col + Graph + Vec + Blob</td>
                    </tr>
                </tbody>
            </table>

            <h2 style="margin-top: 48px; border-bottom: 2px solid #8b6f47;">Documents & Office</h2>

            <h3 style="color: #6f4a6f; margin-top: 24px;">PDF</h3>
            <table class="artifact-types-table" data-category="text" data-workspace="false">
                <thead>
                    <tr>
                        <th>Extraction Method</th>
                        <th>Library/Tool</th>
                        <th>Quality</th>
                        <th>Type Examples</th>
                        <th>Unique Properties</th>
                        <th>Storage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>pdfminer_six</td>
                        <td><a href="https://pdfminer-docs.readthedocs.io/" target="_blank">pdfminer.six</a></td>
                        <td><span class="tag tag-complete">Complete</span></td>
                        <td>TextBlock, Figure, Line, Rect, Curve</td>
                        <td>page_number, font_encoding, char_matrix[], text.char_positions[]</td>
                        <td>Doc + Col + Graph</td>
                    </tr>
                    <tr>
                        <td>pdf_vision_ocr</td>
                        <td><a href="https://cloud.google.com/document-ai" target="_blank">Google Document AI</a> / <a href="https://aws.amazon.com/textract/" target="_blank">AWS Textract</a></td>
                        <td><span class="tag tag-partial">Partial</span></td>
                        <td>DetectedText, DetectedTable, DetectedFigure</td>
                        <td>visual.layout_blocks[], visual.detected_figures[], confidence_scores{}</td>
                        <td>Doc + Vec + Blob</td>
                    </tr>
                </tbody>
            </table>

            <h3 style="color: #6f4a6f; margin-top: 32px;">Microsoft Office</h3>
            <table class="artifact-types-table" data-category="text" data-workspace="false">
                <thead>
                    <tr>
                        <th>Format</th>
                        <th>Extraction Method</th>
                        <th>Library/Tool</th>
                        <th>Quality</th>
                        <th>Type Examples</th>
                        <th>Storage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Excel</td>
                        <td>openpyxl</td>
                        <td><a href="https://openpyxl.readthedocs.io/" target="_blank">openpyxl</a></td>
                        <td><span class="tag tag-complete">Complete</span></td>
                        <td>Cell, MergedCell, Formula, Chart</td>
                        <td>Doc + Col + Graph</td>
                    </tr>
                    <tr>
                        <td>Word</td>
                        <td>python_docx</td>
                        <td><a href="https://python-docx.readthedocs.io/" target="_blank">python-docx</a></td>
                        <td><span class="tag tag-high">High-fidelity</span></td>
                        <td>Paragraph, Run, Table, Picture, Section</td>
                        <td>Doc + Graph</td>
                    </tr>
                    <tr>
                        <td>PowerPoint</td>
                        <td>python_pptx</td>
                        <td><a href="https://python-pptx.readthedocs.io/" target="_blank">python-pptx</a></td>
                        <td><span class="tag tag-medium">Medium</span></td>
                        <td>Slide, Shape, TextFrame, Table, Picture, Chart</td>
                        <td>Doc + Col + Graph</td>
                    </tr>
                </tbody>
            </table>

            <h3 style="color: #6f4a6f; margin-top: 32px;">Markdown</h3>
            <table class="artifact-types-table" data-category="text" data-workspace="false">
                <thead>
                    <tr>
                        <th>Extraction Method</th>
                        <th>Library/Tool</th>
                        <th>Quality</th>
                        <th>Type Examples</th>
                        <th>Unique Properties</th>
                        <th>Storage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>markdown_ast_parser</td>
                        <td><a href="https://github.com/remarkjs/remark" target="_blank">remark</a></td>
                        <td><span class="tag tag-medium">Medium</span></td>
                        <td>Heading, Paragraph, List, Code, Blockquote, Link, Image</td>
                        <td>depth, ordered (lists), lang (code blocks), url, alt</td>
                        <td>Doc + Graph</td>
                    </tr>
                </tbody>
            </table>

            <h2 style="margin-top: 48px; border-bottom: 2px solid #8b6f47;">Vision-Based Detection</h2>

            <h3 style="color: #a85a5a; margin-top: 24px;">Screenshots & Images</h3>
            <table class="artifact-types-table" data-category="visual" data-workspace="false">
                <thead>
                    <tr>
                        <th>Extraction Method</th>
                        <th>Library/Tool</th>
                        <th>Quality</th>
                        <th>Type Examples</th>
                        <th>Unique Properties</th>
                        <th>Storage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>vision_model_detection</td>
                        <td><a href="https://github.com/openai/clip" target="_blank">CLIP</a> + <a href="https://github.com/facebookresearch/detectron2" target="_blank">Detectron2</a></td>
                        <td><span class="tag tag-limited">Limited</span></td>
                        <td>DetectedElement (inferred)</td>
                        <td>spatial.visual (REQUIRED), visual.detected_text[], visual.visual_embedding[], visual.detection_confidence</td>
                        <td>Doc + Vec + Blob</td>
                    </tr>
                </tbody>
            </table>
                <thead>
                    <tr>
                        <th>artifact_type</th>
                        <th>Extraction Method</th>
                        <th>Library/Tool</th>
                        <th>Quality</th>
                        <th>Category</th>
                        <th>Type Examples</th>
                        <th>Unique Properties</th>
                        <th>Storage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-category="visual" data-quality="complete" data-workspace="true">
                        <td><code>figma_component</code></td>
                        <td>figma_plugin_api</td>
                        <td><a href="https://www.figma.com/plugin-docs/" target="_blank">Figma Plugin API</a></td>
                        <td><span class="tag tag-complete">Complete</span></td>
                        <td><span class="tag tag-visual">Visual</span></td>
                        <td>Frame, Component, Instance, Vector, Text</td>
                        <td>layoutMode, paddingLeft/Right/Top/Bottom, itemSpacing, fills[], strokes[], effects[], constraints</td>
                        <td>Doc + Col + Graph + Vec</td>
                    </tr>
                    <tr data-category="visual" data-quality="high" data-workspace="true">
                        <td><code>figma_component</code></td>
                        <td>figma_rest_api</td>
                        <td><a href="https://www.figma.com/developers/api" target="_blank">Figma REST API</a></td>
                        <td><span class="tag tag-high">High-fidelity</span></td>
                        <td><span class="tag tag-visual">Visual</span></td>
                        <td>Same as plugin</td>
                        <td>Same (slightly less provenance detail)</td>
                        <td>Doc + Col + Graph + Vec</td>
                    </tr>
                    <tr data-category="code" data-quality="complete" data-workspace="false">
                        <td><code>react_component</code></td>
                        <td>babel_ast_parser</td>
                        <td><a href="https://babeljs.io/docs/en/babel-parser" target="_blank">@babel/parser</a></td>
                        <td><span class="tag tag-complete">Complete</span></td>
                        <td><span class="tag tag-code">Code</span></td>
                        <td>FunctionComponent, ClassComponent, JSXElement, JSXFragment</td>
                        <td>props{}, hooks[], state[], className, style, file_path, line_start</td>
                        <td>Doc + Graph</td>
                    </tr>
                    <tr data-category="code" data-quality="high" data-workspace="false">
                        <td><code>react_component</code></td>
                        <td>typescript_compiler_api</td>
                        <td><a href="https://github.com/microsoft/TypeScript/wiki/Using-the-Compiler-API" target="_blank">TypeScript Compiler API</a></td>
                        <td><span class="tag tag-high">High-fidelity</span></td>
                        <td><span class="tag tag-code">Code</span></td>
                        <td>Same as Babel + type information</td>
                        <td>+ type_annotations, interfaces, generics</td>
                        <td>Doc + Graph</td>
                    </tr>
                    <tr data-category="visual" data-quality="high" data-workspace="false">
                        <td><code>html_element</code></td>
                        <td>dom_traversal</td>
                        <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model" target="_blank">Browser DOM API</a></td>
                        <td><span class="tag tag-high">High-fidelity</span></td>
                        <td><span class="tag tag-visual">Visual</span></td>
                        <td>div, button, input, span, etc.</td>
                        <td>tagName, attributes{}, computedStyle{}, classList[], dataset{}</td>
                        <td>Doc + Col + Graph + Vec</td>
                    </tr>
                    <tr data-category="visual" data-quality="medium" data-workspace="false">
                        <td><code>html_element</code></td>
                        <td>puppeteer_crawl</td>
                        <td><a href="https://pptr.dev/" target="_blank">Puppeteer</a></td>
                        <td><span class="tag tag-medium">Medium</span></td>
                        <td><span class="tag tag-visual">Visual</span></td>
                        <td>Same as DOM + screenshot capability</td>
                        <td>+ visual.screenshot_ref, visual.viewport_bounds</td>
                        <td>Doc + Col + Graph + Vec + Blob</td>
                    </tr>
                    <tr data-category="visual" data-quality="complete" data-workspace="true">
                        <td><code>sketch_layer</code></td>
                        <td>sketch_file_parser</td>
                        <td><a href="https://developer.sketch.com/file-format/" target="_blank">Sketch File Format</a></td>
                        <td><span class="tag tag-complete">Complete</span></td>
                        <td><span class="tag tag-visual">Visual</span></td>
                        <td>Artboard, SymbolMaster, Layer, ShapeGroup, Text</td>
                        <td>symbolID, sharedStyleID, resizingConstraint, layerListExpanded</td>
                        <td>Doc + Col + Graph + Vec</td>
                    </tr>
                    <tr data-category="visual" data-quality="high" data-workspace="true">
                        <td><code>adobe_xd_component</code></td>
                        <td>xd_plugin_api</td>
                        <td><a href="https://developer.adobe.com/xd/uxp/" target="_blank">Adobe XD Plugin API</a></td>
                        <td><span class="tag tag-high">High-fidelity</span></td>
                        <td><span class="tag tag-visual">Visual</span></td>
                        <td>Artboard, Component, RepeatGrid, Group, Shape, Text</td>
                        <td>repeatGrid{}, componentStates[], responsiveResize{}, interactions[]</td>
                        <td>Doc + Col + Graph + Vec</td>
                    </tr>
                    <tr data-category="visual" data-quality="medium" data-workspace="true">
                        <td><code>adobe_xd_component</code></td>
                        <td>xd_cloud_api</td>
                        <td><a href="https://developer.adobe.com/xd/cloud-content-api/" target="_blank">XD Cloud API</a></td>
                        <td><span class="tag tag-medium">Medium</span></td>
                        <td><span class="tag tag-visual">Visual</span></td>
                        <td>Same as plugin (less detail)</td>
                        <td>Same as plugin (limited prototyping data)</td>
                        <td>Doc + Col + Graph</td>
                    </tr>
                    <tr data-category="text" data-quality="complete" data-workspace="false">
                        <td><code>pdf_element</code></td>
                        <td>pdfminer_six</td>
                        <td><a href="https://pdfminer-docs.readthedocs.io/" target="_blank">pdfminer.six</a></td>
                        <td><span class="tag tag-complete">Complete</span></td>
                        <td><span class="tag tag-text">Text</span></td>
                        <td>TextBlock, Figure, Line, Rect, Curve</td>
                        <td>page_number, font_encoding, char_matrix[], text.char_positions[]</td>
                        <td>Doc + Col + Graph</td>
                    </tr>
                    <tr data-category="text" data-quality="partial" data-workspace="false">
                        <td><code>pdf_element</code></td>
                        <td>pdf_vision_ocr</td>
                        <td><a href="https://cloud.google.com/document-ai" target="_blank">Google Document AI</a> / <a href="https://aws.amazon.com/textract/" target="_blank">AWS Textract</a></td>
                        <td><span class="tag tag-partial">Partial</span></td>
                        <td><span class="tag tag-text">Text</span></td>
                        <td>DetectedText, DetectedTable, DetectedFigure</td>
                        <td>visual.layout_blocks[], visual.detected_figures[], confidence_scores{}</td>
                        <td>Doc + Vec + Blob</td>
                    </tr>
                    <tr data-category="text" data-quality="complete" data-workspace="false">
                        <td><code>excel_cell</code></td>
                        <td>openpyxl</td>
                        <td><a href="https://openpyxl.readthedocs.io/" target="_blank">openpyxl</a></td>
                        <td><span class="tag tag-complete">Complete</span></td>
                        <td><span class="tag tag-text">Text</span></td>
                        <td>Cell, MergedCell, Formula, Chart</td>
                        <td>cell_address, formula, number_format, cell_value, cell_type, spatial.grid{row, column}</td>
                        <td>Doc + Col + Graph</td>
                    </tr>
                    <tr data-category="text" data-quality="high" data-workspace="false">
                        <td><code>word_element</code></td>
                        <td>python_docx</td>
                        <td><a href="https://python-docx.readthedocs.io/" target="_blank">python-docx</a></td>
                        <td><span class="tag tag-high">High-fidelity</span></td>
                        <td><span class="tag tag-text">Text</span></td>
                        <td>Paragraph, Run, Table, Picture, Section</td>
                        <td>style_name, runs[], table_data[][], section_properties</td>
                        <td>Doc + Graph</td>
                    </tr>
                    <tr data-category="visual" data-quality="medium" data-workspace="false">
                        <td><code>powerpoint_shape</code></td>
                        <td>python_pptx</td>
                        <td><a href="https://python-pptx.readthedocs.io/" target="_blank">python-pptx</a></td>
                        <td><span class="tag tag-medium">Medium</span></td>
                        <td><span class="tag tag-visual">Visual</span></td>
                        <td>Slide, Shape, TextFrame, Table, Picture, Chart</td>
                        <td>slide_layout, placeholder_format, animation[], transition{}</td>
                        <td>Doc + Col + Graph</td>
                    </tr>
                    <tr data-category="visual" data-quality="limited" data-workspace="true">
                        <td><code>framer_component</code></td>
                        <td>dom_inspection</td>
                        <td><a href="https://developer.chrome.com/docs/devtools/" target="_blank">Chrome DevTools</a></td>
                        <td><span class="tag tag-limited">Limited</span></td>
                        <td><span class="tag tag-visual">Visual</span></td>
                        <td>DetectedComponent (inferred from DOM)</td>
                        <td>computedStyle{}, data-framer-* attributes, inferred layout</td>
                        <td>Doc + Graph</td>
                    </tr>
                    <tr data-category="visual" data-quality="medium" data-workspace="true">
                        <td><code>webflow_element</code></td>
                        <td>webflow_api</td>
                        <td><a href="https://developers.webflow.com/" target="_blank">Webflow API</a></td>
                        <td><span class="tag tag-medium">Medium</span></td>
                        <td><span class="tag tag-visual">Visual</span></td>
                        <td>Element, Collection, CMS Item</td>
                        <td>webflow_id, classes[], custom_attributes{}, cms_fields{}</td>
                        <td>Doc + Col + Graph</td>
                    </tr>
                    <tr data-category="visual" data-quality="limited" data-workspace="false">
                        <td><code>screenshot_detection</code></td>
                        <td>vision_model_detection</td>
                        <td><a href="https://github.com/openai/clip" target="_blank">CLIP</a> + <a href="https://github.com/facebookresearch/detectron2" target="_blank">Detectron2</a></td>
                        <td><span class="tag tag-limited">Limited</span></td>
                        <td><span class="tag tag-visual">Visual</span></td>
                        <td>DetectedElement (inferred)</td>
                        <td>spatial.visual (REQUIRED), visual.detected_text[], visual.visual_embedding[], visual.detection_confidence</td>
                        <td>Doc + Vec + Blob</td>
                    </tr>
                    <tr data-category="code" data-quality="complete" data-workspace="false">
                        <td><code>vue_component</code></td>
                        <td>vue_compiler_sfc</td>
                        <td><a href="https://github.com/vuejs/core/tree/main/packages/compiler-sfc" target="_blank">@vue/compiler-sfc</a></td>
                        <td><span class="tag tag-complete">Complete</span></td>
                        <td><span class="tag tag-code">Code</span></td>
                        <td>ComponentDefinition, Template, Script, Style</td>
                        <td>template_ast, script_setup, props, emits[], style_scoped</td>
                        <td>Doc + Graph</td>
                    </tr>
                    <tr data-category="code" data-quality="complete" data-workspace="false">
                        <td><code>svelte_component</code></td>
                        <td>svelte_compiler</td>
                        <td><a href="https://svelte.dev/docs/svelte-compiler" target="_blank">svelte/compiler</a></td>
                        <td><span class="tag tag-complete">Complete</span></td>
                        <td><span class="tag tag-code">Code</span></td>
                        <td>Component, Script, Markup, Style</td>
                        <td>reactive_declarations, stores[], bindings[], transitions[]</td>
                        <td>Doc + Graph</td>
                    </tr>
                    <tr data-category="code" data-quality="high" data-workspace="false">
                        <td><code>swiftui_view</code></td>
                        <td>swift_syntax_parser</td>
                        <td><a href="https://github.com/apple/swift-syntax" target="_blank">SwiftSyntax</a></td>
                        <td><span class="tag tag-high">High-fidelity</span></td>
                        <td><span class="tag tag-code">Code</span></td>
                        <td>View, ViewModifier, StateProperty</td>
                        <td>body_declaration, modifiers[], state_properties[], bindings[]</td>
                        <td>Doc + Graph</td>
                    </tr>
                    <tr data-category="text" data-quality="medium" data-workspace="false">
                        <td><code>markdown_document</code></td>
                        <td>markdown_ast_parser</td>
                        <td><a href="https://github.com/remarkjs/remark" target="_blank">remark</a></td>
                        <td><span class="tag tag-medium">Medium</span></td>
                        <td><span class="tag tag-text">Text</span></td>
                        <td>Heading, Paragraph, List, Code, Blockquote, Link, Image</td>
                        <td>depth, ordered (lists), lang (code blocks), url, alt</td>
                        <td>Doc + Graph</td>
                    </tr>
                    <tr data-category="code" data-quality="complete" data-workspace="false">
                        <td><code>flutter_widget</code></td>
                        <td>dart_analyzer</td>
                        <td><a href="https://pub.dev/packages/analyzer" target="_blank">Dart Analyzer</a></td>
                        <td><span class="tag tag-complete">Complete</span></td>
                        <td><span class="tag tag-code">Code</span></td>
                        <td>StatelessWidget, StatefulWidget, Element</td>
                        <td>build_method, state_properties[], widget_tree[]</td>
                        <td>Doc + Graph</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Section: Extraction Quality -->
        <section id="extraction-quality" class="section">
            <h1>Extraction Quality Guide</h1>
            <p class="subtitle">Qualitative framework for assessing extraction completeness and fidelity</p>

            <table>
                <thead>
                    <tr>
                        <th>Quality Level</th>
                        <th>Description</th>
                        <th>Criteria</th>
                        <th>Example Scenarios</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="tag tag-complete">Complete</span></td>
                        <td>Full structural and semantic extraction with all native properties preserved</td>
                        <td>
                            • 100% of properties accessible via API/parser<br>
                            • Perfect 1:1 mapping to source<br>
                            • All metadata and provenance captured<br>
                            • Reconstruction possible without data loss
                        </td>
                        <td>
                            • Figma Plugin API (full node access)<br>
                            • Babel AST parser (complete code structure)<br>
                            • Sketch file format parser (native .sketch)
                        </td>
                    </tr>
                    <tr>
                        <td><span class="tag tag-high">High-fidelity</span></td>
                        <td>Near-complete extraction with minor gaps in provenance or advanced features</td>
                        <td>
                            • 90-99% of properties captured<br>
                            • Core structure fully represented<br>
                            • Minor metadata gaps (timestamps, user data)<br>
                            • High-quality reconstruction possible
                        </td>
                        <td>
                            • Figma REST API (lacks some plugin-level details)<br>
                            • TypeScript Compiler API (full types + AST)<br>
                            • DOM traversal with computedStyle
                        </td>
                    </tr>
                    <tr>
                        <td><span class="tag tag-medium">Medium</span></td>
                        <td>Good structural coverage but missing some properties or requiring inference</td>
                        <td>
                            • 70-89% of properties captured<br>
                            • Some properties inferred or approximated<br>
                            • Reconstruction requires heuristics<br>
                            • Adequate for most training use cases
                        </td>
                        <td>
                            • Puppeteer DOM + screenshots (combines sources)<br>
                            • Webflow API (some CMS limits)<br>
                            • PowerPoint extraction (complex animations limited)
                        </td>
                    </tr>
                    <tr>
                        <td><span class="tag tag-partial">Partial</span></td>
                        <td>Incomplete extraction with significant inference or data loss</td>
                        <td>
                            • 50-69% of properties captured<br>
                            • Heavy reliance on inference<br>
                            • Reconstruction approximate only<br>
                            • Useful for coarse-grained analysis
                        </td>
                        <td>
                            • PDF OCR (visual detection, not native structure)<br>
                            • Vision models on screenshots (inferred bounding boxes)<br>
                            • Markdown AST (formatting loss)
                        </td>
                    </tr>
                    <tr>
                        <td><span class="tag tag-limited">Limited</span></td>
                        <td>Minimal structural extraction, heavily inferred or surface-level only</td>
                        <td>
                            • &lt;50% of properties captured<br>
                            • Mostly inferred/approximated<br>
                            • Reconstruction not reliable<br>
                            • Research/experimental only
                        </td>
                        <td>
                            • Framer DOM inspection (obfuscated, inferred)<br>
                            • Screenshot detection without API access<br>
                            • Legacy/proprietary formats with reverse engineering
                        </td>
                    </tr>
                </tbody>
            </table>

            <h2>Determining Extraction Quality</h2>
            <div class="card-grid">
                <div class="card">
                    <h4>Source Access</h4>
                    <p>Native API/SDK access = higher quality. Reverse engineering, DOM inspection, or visual analysis = lower quality.</p>
                </div>
                <div class="card">
                    <h4>Property Coverage</h4>
                    <p>Percentage of source properties accessible through extraction method. Missing metadata reduces quality.</p>
                </div>
                <div class="card">
                    <h4>Reconstruction Fidelity</h4>
                    <p>Can you recreate the original artifact from the uDOM? Perfect reconstruction = complete. Approximate = medium or partial.</p>
                </div>
                <div class="card">
                    <h4>Inference Level</h4>
                    <p>How much is directly captured vs. inferred? Direct capture = higher quality. Heavy inference = lower quality.</p>
                </div>
            </div>
        </section>

        <!-- Section: Data Flow -->
        <section id="data-flow" class="section">
            <h1>Complete System Data Flow</h1>
            <p class="subtitle">End-to-end pipeline from workspace tools to collective database</p>

            <h2>Phase 1: Extraction</h2>
            <div class="flow-container">
                <div class="flow-step">
                    <div class="flow-box flow-input">Figma Plugin</div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-box flow-adapter">FigmaAdapter</div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-box flow-udom">uDOM_v1</div>
                </div>
                <div class="flow-step">
                    <div class="flow-box flow-input">VSCode Extension</div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-box flow-adapter">BabelAdapter</div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-box flow-udom">uDOM_v1</div>
                </div>
                <div class="flow-step">
                    <div class="flow-box flow-input">Browser Extension</div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-box flow-adapter">DOMAdapter</div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-box flow-udom">uDOM_v1</div>
                </div>
            </div>

            <h2>Phase 2: UAT Assembly & Storage</h2>
            <div class="flow-container">
                <div class="flow-step">
                    <div class="flow-box flow-udom">uDOM_v1</div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-box flow-decision">Diff Computation</div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-box flow-udom">uDOM_v2</div>
                </div>
                <div class="flow-step" style="margin-left: 40px;">
                    <div class="flow-arrow" style="transform: rotate(90deg);">↓</div>
                </div>
                <div class="flow-step">
                    <div class="flow-box flow-decision">UAT Construction</div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-box flow-storage">Hybrid Storage</div>
                </div>
            </div>

            <div class="card-grid">
                <div class="card">
                    <h4>Document Store (PostgreSQL JSONB)</h4>
                    <p>Stores complete uDOM JSON. Flexible schema, fast queries on metadata.</p>
                </div>
                <div class="card">
                    <h4>Columnar Store (Parquet/DuckDB)</h4>
                    <p>Aggregation queries on numeric properties (bounds, sizes, colors). Used for visual artifacts.</p>
                </div>
                <div class="card">
                    <h4>Graph DB (Neo4j)</h4>
                    <p>Stores relations: parent_child, sibling, uses_token, implements. Fast traversal queries.</p>
                </div>
                <div class="card">
                    <h4>Vector Store (pgvector)</h4>
                    <p>Visual embeddings for similarity search. Used for design artifacts with visual properties.</p>
                </div>
            </div>

            <h2>Phase 3: Aggregation & Query</h2>
            <div class="flow-container">
                <div class="flow-step">
                    <div class="flow-box flow-storage">Local DBs</div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-box flow-decision">Cross-artifact Links</div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-box flow-udom">Collective DB</div>
                </div>
                <div class="flow-step" style="margin-left: 40px;">
                    <div class="flow-arrow" style="transform: rotate(90deg);">↓</div>
                </div>
                <div class="flow-step">
                    <div class="flow-box flow-query">Query Layer</div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-box flow-adapter">Agents & Models</div>
                </div>
            </div>

            <h2>Sample User Flow</h2>
            <div class="example-box">
                <pre>DAY 1, 10:00 AM
├─ Designer Alice opens Figma
├─ Plugin Agent connects to Hub
├─ Alice creates Button/Primary (padding: 16px)
│  └─ uDOM_v1 extracted → UAT created
│
DAY 1, 10:15 AM
├─ Alice refines padding 16px → 20px
│  └─ uDOM_v2 extracted → UAT updated (diff computed)
│
DAY 1, 11:00 AM
├─ Alice adjusts corner radius 4px → 8px
│  └─ uDOM_v3 extracted → UAT updated
│
DAY 2, 2:00 PM
├─ Developer Bob implements Button.tsx
├─ VSCode Extension detects new code
│  └─ code_uDOM extracted → UAT created for code
├─ Hub links design UAT ↔ code UAT (cross-artifact link)
│
DAY 3
├─ Training Pipeline runs
├─ Loads Button UAT from DB
├─ Extracts (uDOM_v1 → diff_1 → uDOM_v2 → diff_2 → uDOM_v3)
├─ Learns: "padding refinement → often followed by radius adjustment"
├─ Also learns: design uDOM_v3 ↔ code implementation (quality: complete)</pre>
            </div>
        </section>

        <!-- Section: Storage Strategy -->
        <section id="storage-strategy" class="section">
            <h1>Storage Strategy Decision Tree</h1>
            <p class="subtitle">How artifact_type determines which storage backends are used</p>

            <div class="example-box">
                <h3>Decision Criteria</h3>
                <ul>
                    <li><strong>Has visual properties?</strong> (fills, strokes, effects) → Columnar + Vector stores</li>
                    <li><strong>Has spatial data?</strong> (absolute coordinates) → Columnar store for spatial queries</li>
                    <li><strong>Has relational structure?</strong> (parent-child, component hierarchy) → Graph DB</li>
                    <li><strong>Flexible schema needed?</strong> (extensible properties) → Document store (always)</li>
                </ul>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Artifact Type</th>
                        <th>Document</th>
                        <th>Columnar</th>
                        <th>Graph</th>
                        <th>Vector</th>
                        <th>Rationale</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>figma_component</code></td>
                        <td><span class="check-yes">✓</span></td>
                        <td><span class="check-yes">✓</span></td>
                        <td><span class="check-yes">✓</span></td>
                        <td><span class="check-yes">✓</span></td>
                        <td>Full visual design: needs all stores</td>
                    </tr>
                    <tr>
                        <td><code>react_component</code></td>
                        <td><span class="check-yes">✓</span></td>
                        <td><span class="check-no">✗</span></td>
                        <td><span class="check-yes">✓</span></td>
                        <td><span class="check-no">✗</span></td>
                        <td>Code AST: no visual properties</td>
                    </tr>
                    <tr>
                        <td><code>html_element</code></td>
                        <td><span class="check-yes">✓</span></td>
                        <td><span class="check-yes">✓</span></td>
                        <td><span class="check-yes">✓</span></td>
                        <td><span class="check-maybe">?</span></td>
                        <td>Rendered web: optional vector for visual search</td>
                    </tr>
                    <tr>
                        <td><code>pdf_element</code></td>
                        <td><span class="check-yes">✓</span></td>
                        <td><span class="check-yes">✓</span></td>
                        <td><span class="check-yes">✓</span></td>
                        <td><span class="check-no">✗</span></td>
                        <td>Text layout: spatial queries, no visual embeddings</td>
                    </tr>
                    <tr>
                        <td><code>sketch_layer</code></td>
                        <td><span class="check-yes">✓</span></td>
                        <td><span class="check-yes">✓</span></td>
                        <td><span class="check-yes">✓</span></td>
                        <td><span class="check-yes">✓</span></td>
                        <td>Visual design tool: same as Figma</td>
                    </tr>
                    <tr>
                        <td><code>screenshot_detection</code></td>
                        <td><span class="check-yes">✓</span></td>
                        <td><span class="check-no">✗</span></td>
                        <td><span class="check-no">✗</span></td>
                        <td><span class="check-yes">✓</span></td>
                        <td>Visual only: embeddings essential, limited structure</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Section: Training Use Cases -->
        <section id="training-use-cases" class="section">
            <h1>Training Use Cases</h1>
            <p class="subtitle">How uDOM/UAT data powers different model architectures and training scenarios</p>

            <table>
                <thead>
                    <tr>
                        <th>Model Type</th>
                        <th>Input</th>
                        <th>Output</th>
                        <th>Dataset Source</th>
                        <th>Architecture</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Code ↔ Design (Encoder-Decoder)</td>
                        <td>uDOM (Figma)</td>
                        <td>AST (React)</td>
                        <td>Paired design files + production code with cross-artifact links</td>
                        <td>Transformer encoder-decoder with structural attention</td>
                    </tr>
                    <tr>
                        <td>Layout Predictor</td>
                        <td>UAT (partial)</td>
                        <td>uDOM (completion)</td>
                        <td>Designer edit sessions with intermediate states and diffs</td>
                        <td>Autoregressive transformer predicting next layout changes</td>
                    </tr>
                    <tr>
                        <td>Style Transfer</td>
                        <td>uDOM + style_target</td>
                        <td>uDOM (restyled)</td>
                        <td>Human redesign examples (A/B pairs) with visual token mappings</td>
                        <td>Conditional VAE or diffusion model on design tokens</td>
                    </tr>
                    <tr>
                        <td>Variant Generator</td>
                        <td>uDOM (base) + variant_axis</td>
                        <td>uDOM (new variant)</td>
                        <td>Component libraries with complete variant families (size/state/theme)</td>
                        <td>Conditional GAN or transformer with variant embeddings</td>
                    </tr>
                    <tr>
                        <td>Accessibility Annotator</td>
                        <td>uDOM (visual)</td>
                        <td>uDOM (with ARIA)</td>
                        <td>Accessibility audits + remediation pairs showing before/after</td>
                        <td>Sequence-to-sequence with semantic role classification</td>
                    </tr>
                    <tr>
                        <td>Design Pattern Recognition</td>
                        <td>UAT (time series)</td>
                        <td>Pattern labels</td>
                        <td>Large corpus of design evolution with expert annotations</td>
                        <td>Recurrent network or temporal convolution on UAT diffs</td>
                    </tr>
                    <tr>
                        <td>Component Retrieval</td>
                        <td>uDOM query</td>
                        <td>Similar uDOMs</td>
                        <td>Large design system corpus with visual + structural embeddings</td>
                        <td>Dual encoder (visual + structural) with contrastive learning</td>
                    </tr>
                </tbody>
            </table>

            <h2>Why uDOM Enables Better Models</h2>
            <div class="card-grid">
                <div class="card">
                    <h4>Structural Awareness</h4>
                    <p>Models see component hierarchies, not just pixels. Enables semantic understanding of design intent.</p>
                </div>
                <div class="card">
                    <h4>Temporal Context</h4>
                    <p>UAT diffs show how designs evolve. Models learn design process patterns, not just final states.</p>
                </div>
                <div class="card">
                    <h4>Cross-Artifact Links</h4>
                    <p>Design ↔ code mappings enable bidirectional models. Learn both visual and implementation representations.</p>
                </div>
                <div class="card">
                    <h4>Multi-Level Spatial</h4>
                    <p>Absolute, relative, semantic, and visual coordinates. Models can reason about layout at multiple levels.</p>
                </div>
                <div class="card">
                    <h4>Provenance & Intent</h4>
                    <p>observations{} capture why changes were made. Models can learn user intent and design rationale.</p>
                </div>
                <div class="card">
                    <h4>Unified Schema</h4>
                    <p>Same structure across tools. Models trained on Figma can transfer to Sketch, XD, Framer with minimal adaptation.</p>
                </div>
            </div>
        </section>
    </main>

    <script>
        function showSection(event, sectionId) {
            event.preventDefault();

            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });

            // Remove active from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });

            // Show selected section
            document.getElementById(sectionId).classList.add('active');

            // Mark nav item as active
            event.target.classList.add('active');

            // Scroll to top
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        function filterArtifacts(category) {
            const rows = document.querySelectorAll('#artifact-types-table tbody tr');

            // Update button states
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            rows.forEach(row => {
                const rowCategory = row.dataset.category;
                const rowQuality = row.dataset.quality;
                const rowWorkspace = row.dataset.workspace === 'true';

                let show = false;

                if (category === 'all') {
                    show = true;
                } else if (category === 'visual') {
                    show = rowCategory === 'visual';
                } else if (category === 'code') {
                    show = rowCategory === 'code';
                } else if (category === 'text') {
                    show = rowCategory === 'text';
                } else if (category === 'complete') {
                    show = rowQuality === 'complete';
                } else if (category === 'workspace') {
                    show = rowWorkspace;
                }

                row.style.display = show ? '' : 'none';
            });
        }
    </script>
</body>
</html>